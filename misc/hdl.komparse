-- Grammar for Hardware Description Language (HDL)
-- Author: Thomas Bollmeier <developer@thomas-bollmeier.de>
-- Version: 0.1.0

comment '//' '\n';
comment '/*' '*/';

token LBRACE '{';
token RBRACE '}';
token LBRACKET '\[';
token RBRACKET '\]';
token COMMA ',';
token SEMICOLON ';';
token COLON ':';
token ID '[a-zA-Z][a-zA-Z0-9]*';
token POS_INT '[1-9][0-9]*';
token PARTS 'PARTS';

@start
chip -> 'CHIP' name#ID LBRACE
    inputs
    outputs
    parts
RBRACE;

inputs -> 'IN' in#inout (COMMA in#inout)* SEMICOLON;

inout -> ID (LBRACKET size#POS_INT RBRACKET)?;

outputs -> 'OUT' out#inout (COMMA out#inout)* SEMICOLON;

parts -> PARTS COLON;